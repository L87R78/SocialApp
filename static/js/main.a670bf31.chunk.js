(window.webpackJsonpsocialApp=window.webpackJsonpsocialApp||[]).push([[0],{52:function(e,t,a){e.exports=a(91)},57:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),o=a.n(s),i=(a(57),a(11)),c=a(8),l=a(15),u=a(16),m=a(17),d=a(43),h=a.n(d).a.initializeApp({apiKey:"AIzaSyDFtFSywiZ3BJ9KSxLEfOgRjmnmqsRfxCg",authDomain:"react-notes-61e38.firebaseapp.com",databaseURL:"https://react-notes-61e38.firebaseio.com",projectId:"react-notes-61e38",storageBucket:"",messagingSenderId:"72182355328",appId:"1:72182355328:web:35ff3ba8f20ca05c4fdd65"}),f=a(14),p=a(45),b=a.n(p),E=a(123),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.login=function(e){e.preventDefault(),h.auth().signInWithEmailAndPassword(a.state.email,a.state.password).catch((function(e){a.setState({fireErrors:e.message})}))},a.register=function(e){e.preventDefault(),h.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).catch((function(e){a.setState({fireErrors:e.message})}))},a.getAction=function(e){"reg"===e?a.setState({formTitle:"Register New User",loginBtn:!1,fireErrors:""}):a.setState({formTitle:"Login",loginBtn:!0,fireErrors:""})},a.state={email:"",password:"",fireErrors:"",formTitle:"Login",loginBtn:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state.fireErrors?r.a.createElement("div",{className:"error"},this.state.fireErrors):null,n=this.state.loginBtn?r.a.createElement("button",{type:"submit",className:"loginBtn",onClick:this.login},"Enter "):r.a.createElement("button",{type:"submit",className:"loginBtn",onClick:this.register},"Register"),s=this.state.loginBtn?r.a.createElement("button",{className:"registerBtn",onClick:function(){return t.getAction("reg")}},"Register"):r.a.createElement("button",{className:"registerBtn",onClick:function(){return t.getAction("login")}},"Login"),o=this.props.classes;return r.a.createElement("div",{className:"form_block"},r.a.createElement("div",{id:"title"},this.state.formTitle),r.a.createElement("div",{className:"body"},a,r.a.createElement("form",null,r.a.createElement(E.a,{className:o.input,type:"text",value:this.state.email,onChange:this.handleChange,name:"email",label:"Email"}),r.a.createElement(E.a,(e={type:"password",className:o.input,value:this.state.password,onChange:this.handleChange,name:"password"},Object(f.a)(e,"type","password"),Object(f.a)(e,"label","Password"),e))),r.a.createElement("div",{className:"buttons"},n,s)))}}]),t}(n.Component),v=b()({input:{margin:"0.5rem"}})(g),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleRemoveNote=function(e){a.props.removeNote(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userEmail,a=e.noteContent;e.noteId;return r.a.createElement("div",{className:"note fade_in"},r.a.createElement("i",{class:"far fa-smile-wink"}),r.a.createElement("div",{className:"email_and_text"},r.a.createElement("span",null,t),r.a.createElement("p",null,a)))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleUserInput=function(e){a.setState({noteNewContent:e.target.value})},a.writeNote=function(e){a.props.addNote(a.state.noteNewContent),a.setState({noteNewContent:""})},a.state={noteNewContent:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"noteForm"},r.a.createElement("input",{type:"text",placeholder:"Please write text here...",value:this.state.noteNewContent,onChange:this.handleUserInput}),r.a.createElement("button",{className:"btnAdd",onClick:this.writeNote},"Add Note"))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).logOut=function(){h.auth().signOut()},a.addNote=function(e){a.database.push().set({noteContent:e,userEmail:a.state.currUserEmail})},a.removeNote=function(e){a.database.child(e).remove()},a.database=h.database().ref().child("notes"),a.state={notes:[],currUserEmail:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state.notes;this.database.on("child_added",(function(a){t.push({id:a.key,noteContent:a.val().noteContent,userEmail:a.val().userEmail}),e.setState({notes:t})})),this.database.on("child_removed",(function(a){for(var n=0;n<t.length;n++)t[n].id===a.key&&t.splice(n,1);e.setState({notes:t})}))}},{key:"componentDidMount",value:function(){console.log(h.auth());var e=h.auth().currentUser;e&&this.setState({currUserEmail:e.email})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"notes_and_form"},r.a.createElement("div",{className:"current_user"},r.a.createElement("span",null,this.state.currUserEmail),r.a.createElement("button",{onClick:this.logOut},"LogOut")),r.a.createElement("div",{className:"notes_box"},this.state.notes.map((function(t,a){return r.a.createElement(N,{noteContent:t.noteContent,noteId:t.id,key:t.id,userEmail:t.userEmail,removeNote:e.removeNote})}))),r.a.createElement("div",{className:"noteForm"},r.a.createElement(w,{addNote:this.addNote})))}}]),t}(n.Component),j=(a(90),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).authListener=function(){h.auth().onAuthStateChanged((function(e){e?a.setState({user:e}):a.setState({user:null})}))},a.state={user:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.user?r.a.createElement(O,null):r.a.createElement(v,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[52,1,2]]]);
//# sourceMappingURL=main.a670bf31.chunk.js.map